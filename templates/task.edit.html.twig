{% if data.task.group_id.target_id %}
    {% set group_id = data.task.group_id.target_id %}
{% else %}
    {% set group_id = my.group_id.target_id %}
{% endif %}

<div{{ attributes.addClass( data.class.office ) }}>

    {% include dir_office ~ '/templates/menu.html.twig' %}
    {% include dir_office ~ '/templates/message.html.twig' %}

    {% if data.task %}
        <div>Created : {{ data.task.created.value | date('M d, Y H:i:s') }}</div>
    {% endif %}

    <form action="/office/task/edit" method="post">
        <input type="hidden" name="mode" value="submit">
        <input type="hidden" name="task_id" value="{{ data.task.id.value }}">
        
        <select name="group_id">
            <option value="">Select service group</option>
            {% for group in groups %}
                <option value="{{ group.id.value }}"{{ group_id == group.id.value ? ' selected' }}>{{ group.name.value }}</option>
            {% endfor %}
        </select>

<br>

        Title: <input type="text" name="title" value="{{ data.task.title.value }}"><br>
        Summary: <input type="text" name="summary" value="{{ data.task.summary.value }}"><br>
        Description: <input type="text" name="description" value="{{ data.task.description.value }}"><br>

        Priority :
        <input id='priority8' type="radio" name="priority" value="8"{{ data.task.priority.value == priority.urgent.value ? ' checked=1' }}>
        <label for="priority8">{{ priority.urgent.text }}</label>


        <input id='priority6' type="radio" name="priority" value="6"{{ data.task.priority.value == priority.normal.value ? ' checked=1' }}>
        <label for="priority6">{{ priority.normal.text }}</label>

        <input id='priority4' type="radio" name="priority" value="4"{{ data.task.priority.value == priority.low.value ? ' checked=1' }}>
        <label for="priority4">{{ priority.low.text }}</label>

        <input id='priority2' type="radio" name="priority" value="2"{{ data.task.priority.value == priority.none.value ? ' checked=1' }}>
        <label for="priority2">{{ priority.none.text }}</label>
        <br>

        View status:

        <input id='view_status_open' type="radio" name="view_status" value="O"{{ data.task.view_status.value == 'O' ? ' checked=1' }}>
        <label for="view_status_open">Public</label>
        <input id='view_status_close' type="radio" name="view_status" value="C"{{ data.task.view_status.value == 'C' ? ' checked=1' }}>
        <label for="view_status_close">Private</label>
        <br>


        Work Flowchart : <br>
        Requirement: <br>




        Roadmap:
        <input name="roadmap" value="{{ data.task.roadmap.value }}">
        <br>

        <label for="worker">Service For (Client) :</label>
        <input id="worker" name="client" value="{{ data.task.client_id.entity.name.value }}" autocomplete="off" data-autocomplete-url="/office/api?call=autocomplete&type=user">
        <br>

        <label for="worker">Assigned To(Worker) :</label>
        <input id="worker" name="worker" value="{{ data.task.worker_id.entity.name.value }}" autocomplete="off" data-autocomplete-url="/office/api?call=autocomplete&type=user">
        <br>

        <label for="in_charge">Person in charge :</label>
        <input id="in_charge" name="in_charge" value="{{ data.task.in_charge_id.entity.name.value }}" autocomplete="off" data-autocomplete-url="/office/api?call=autocomplete&type=user">
        who will take the responsibility.<br>

        <div>Upload files:</div>


        <input type="submit">
        <a href="/office/task/list">LIST</a>

    </form>



</div>

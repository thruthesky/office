<?php
use Drupal\office\Entity\Member;
use Drupal\office\x;
if ( ! function_exists('di') ) {
	function di( $obj ) { echo "<pre>"; print_r($obj); echo "</pre>"; }
}


function office_theme() {
	$themes = [];
	$names = [
		'office', 'login', 'mydesk',
		'member.list', 'member.view', 'member.edit',
		'task.edit','task.list',
		'group.edit', 'group.list', 'group.workinghours',
		'attendance.list',
	];
	foreach($names as $name) {
		$themes[ $name ] = [
			'variables' => [ 'data' => null],
			'template' => $name,
		];
	}
	return $themes;
}




function office_preprocess(&$variables, $hook)
{
	$request = \Drupal::request();
	$uri = $request->getRequestUri();
	if ( ! x::isOfficePage() ) return;

	if ( $hook == 'page' ) {
		// x::gs(2);
	}

	$variables['dir_office'] = drupal_get_path('module', 'office');

	$variables['#attached']['library'][] = 'office/default';
	$variables['data']['class']['office'][] = 'office';
	$variables['data']['class']['office'][] = $hook;

}




